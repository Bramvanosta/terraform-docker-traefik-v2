log:
    level: info

entryPoints:
    http:
      address: ":80"
    https:
      address: ":443"

# Docker Provider
providers:
    docker:
      endpoint: "unix:///var/run/docker.sock"
      network: "${traefik_network}"
      swarmMode: false
      exposedByDefault: false

# Enable dashboard
api:
    dashboard: true

# Let's Encrypt
certificatesResolvers:
    letsEncrypt:
        acme:
            email: "${acme_email}"
            caServer: "${lets_encrypt_env}" # Use Let's Encrypt staging server when experimenting to avoid hitting rate limit
            storage: /etc/traefik/acme/acme.json
            httpChallenge:
                # used during the challenge
                entryPoint: http

accessLog: {}

metrics:
    prometheus:
        buckets:
        - 0.1
        - 0.3
        - 1.2
        - 5
        manualRouting: true